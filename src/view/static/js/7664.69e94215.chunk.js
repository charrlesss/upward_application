"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[7664],{13784:function(e,t,a){a.d(t,{Z:function(){return c}});var o=a(1413),n=a(45987),i=a(71652),r=a(93862),l=a(93777),d=a(80184),u=["label","name","onChange","value","onKeyDown","inputRef","datePickerRef","fullWidth","textField","minWidth"];function c(e){var t=e.label,a=e.name,c=e.onChange,s=e.value,h=e.onKeyDown,p=e.inputRef,m=e.datePickerRef,x=e.fullWidth,y=e.textField,f=e.minWidth,g=void 0===f?"200px":f,v=(0,n.Z)(e,u);return(0,d.jsx)(i._,{dateAdapter:r.H,children:(0,d.jsx)(l.M,(0,o.Z)({value:s,onChange:c,ref:m,slotProps:{textField:(0,o.Z)({size:"small",label:t,name:a,onKeyDown:h,inputRef:p,fullWidth:x},y)},sx:{minWidth:g,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}},v))})}},23508:function(e,t,a){a.d(t,{bq:function(){return l}});var o,n=a(74165),i=a(15861);function r(e){var t=e.data,a=e.column,o=e.beforeArrangeData,n=e.adjustMaxHeight,i=e.fontSize,r=void 0===i?"11px":i,l=e.summaryHeight,d=void 0===l?0:l,u=[],c=0,s=[],h=document.querySelector(".content").getBoundingClientRect().height-n;return t.forEach((function(e,n){e=o(e);var i=document.querySelector(".content"),l=document.createElement("table"),p=l.insertRow();e.summaryReport&&h-c<=d+20&&(c+=h-c),a.forEach((function(t){var a=p.insertCell();l.style.visibility="hidden",l.style.width="100%",l.style.fontSize=r,function(e,t,a,o,n){e.style.width=a,e.textContent=t,o.appendChild(n)}(a,e[t.datakey],t.width,i,l)})),c+=p.getBoundingClientRect().height,i.removeChild(l),s.push(e),(c>=h||n===t.length-1&&c<h)&&(u.push(s),c=0,s=[])})),u}var l=function(e){return(o=o||(0,i.Z)((0,n.Z)().mark((function e(t){var a,o,i,l,d,u,c,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data,o=t.column,i=t.beforeArrangeData,l=t.adjustMaxHeight,d=t.cb,u=t.fontSize,c=void 0===u?"11px":u,s=t.summaryHeight,void 0!==a){e.next=3;break}return e.abrupt("return",[]);case 3:if(!d){e.next=5;break}return e.abrupt("return",d({data:a,column:o,beforeArrangeData:i,adjustMaxHeight:l}));case 5:return e.abrupt("return",r({data:a,column:o,beforeArrangeData:i,adjustMaxHeight:l,fontSize:c,summaryHeight:s}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},78315:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var o=a(29439),n=a(93433),i=a(4942),r=a(74165),l=a(15861),d=a(72791),u=a(71012),c=function(e){var t;return t=e.column.filter((function(t){return!e.removeList.includes(t.datakey)})),null!==e&&void 0!==e&&e.cb?e.cb(t):t},s=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Insured Value",type:"number",total:!0,width:"90px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Premium",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"Misc",header:"Misc",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"Notarial",header:"Notarial Fee",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"EVat",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",type:"number",total:!0,width:"80px",excelColumnWidth:20}],h=c({column:s,removeList:["InsuredValue","TotalPremium","Misc","Notarial","DocStamp","Vat","LGovTax"]}),p=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Insured Value",type:"number",total:!0,width:"90px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Premium",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"EVat",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",type:"number",total:!0,width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",type:"number",total:!0,width:"80px",excelColumnWidth:20}],m=c({column:p,removeList:["InsuredValue","TotalPremium","DocStamp","Vat","LGovTax"]}),x=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Sum Insured",total:!0,type:"number",width:"90px",excelColumnWidth:20},{datakey:"PLimit",header:"LD Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Sec4A",header:"ETPL BI Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Sec4B",header:"PD Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Sec4C",header:"PAR Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Sub Total",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"Evat",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",total:!0,type:"number",width:"80px",excelColumnWidth:20}],y=c({column:x,removeList:["PLimit","Sec4A","Sec4B","Sec4C","TotalPremium","DocStamp","Vat","LGovTax"],cb:function(e){return e.splice.apply(e,[5,0].concat([{datakey:"BodyType",header:"Body Type",width:"150px"},{datakey:"PlateNo",header:"Plate No",width:"150px"},{datakey:"ChassisNo",header:"Chassis No",width:"180px"},{datakey:"MotorNo",header:"Engine No",width:"150px"}])),e.push({datakey:"Mortgagee",header:"Mortgagee",width:"340px",excelColumnWidth:50}),e}}),f=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Insured Value",total:!0,type:"number",width:"90px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"FireTax",header:"F.S. TAX",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"EVAT",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",total:!0,type:"number",width:"80px",excelColumnWidth:20}],g=c({column:f,removeList:["InsuredValue","TotalPremium","DocStamp","FireTax","Vat","LGovTax"]}),v=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Insured Value",total:!0,type:"number",width:"90px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"EVat",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",total:!0,type:"number",width:"80px",excelColumnWidth:20}],b=c({column:v,removeList:["InsuredValue","TotalPremium","DocStamp","Vat","LGovTax"]}),w=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Insured Value",total:!0,type:"number",width:"90px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"EVat",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",total:!0,type:"number",width:"80px",excelColumnWidth:20}],k=c({column:w,removeList:["InsuredValue","TotalPremium","DocStamp","Vat","LGovTax"]}),C=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Insured Value",total:!0,type:"number",width:"90px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"EVat",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",total:!0,type:"number",width:"80px",excelColumnWidth:20}],D=c({column:C,removeList:["InsuredValue","TotalPremium","DocStamp","Vat","LGovTax"]}),S=[{datakey:"DateIssued",header:"Date Issued",width:"90px",excelColumnWidth:20},{datakey:"PolicyNo",header:"Policy No",width:"250px",excelColumnWidth:30},{datakey:"AssuredName",header:"Assured Name",width:"350px",excelColumnWidth:50},{datakey:"EffictiveDate",header:"Effictive Date",width:"90px",excelColumnWidth:20},{datakey:"InsuredValue",header:"Tpl Coverage",total:!0,type:"number",width:"90px",excelColumnWidth:20},{datakey:"TotalPremium",header:"Premium",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"DocStamp",header:"Doc Stamp",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Vat",header:"EVat",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"LGovTax",header:"LGT",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"Misc",header:"Strad Com",total:!0,type:"number",width:"80px",excelColumnWidth:20},{datakey:"TotalDue",header:"Total",total:!0,type:"number",width:"80px",excelColumnWidth:20}],I=c({column:S,removeList:["InsuredValue","TotalPremium","DocStamp","Vat","LGovTax","Misc"],cb:function(e){return e.splice.apply(e,[5,0].concat([{datakey:"BodyType",header:"Body Type",width:"140px",excelColumnWidth:30},{datakey:"PlateNo",header:"Plate No",width:"140px",excelColumnWidth:20},{datakey:"ChassisNo",header:"Chassis No",width:"140px",excelColumnWidth:30}])),e.push({datakey:"MotorNo",header:"Engine No",width:"140px",excelColumnWidth:50}),e}}),P=function(e,t){var a=[];switch(e){case"Bonds":a={Full:s,Summary:h}[t];break;case"COM":a={Full:x,Summary:y}[t];break;case"TPL":a={Full:S,Summary:I}[t];break;case"FIRE":a={Full:f,Summary:g}[t];break;case"CGL":a={Full:p,Summary:m}[t];break;case"PA":a={Full:C,Summary:D}[t];break;case"MAR":a={Full:v,Summary:b}[t];break;case"MSPR":a={Full:w,Summary:k}[t]}return a},W=a(3380),L=a(71652),T=a(93777),_=a(48550),F=a(64554),j=a(68096),Z=a(94925),E=a(58406),A=a(23786),N=a(13784),z=a(93862),M=a(91933),V=a(39709),R=a(54164),G=a(23508),U=a(80184),B=["DateIssued","PolicyNo","AssuredName","EffictiveDate"];function Y(e){var t=e.user,a=e.state,o=e.dispatch,n=e.handleInputChange,i=(0,d.useRef)(null),r=(0,d.useRef)(null);return(0,U.jsxs)(d.Fragment,{children:["Custom"===a.report&&(0,U.jsxs)(d.Fragment,{children:[(0,U.jsx)(N.Z,{minWidth:"150px",fullWidth:!0,label:"Date From",onChange:function(e){o({type:"UPDATE_FIELD",field:"dateFrom",value:e}),a.dateFrom=e,o({type:"UPDATE_FIELD",field:"title",value:K(a,null===t||void 0===t?void 0:t.department)})},value:new Date(a.dateFrom),onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,a;null===(e=i.current)||void 0===e||null===(a=e.querySelector("button"))||void 0===a||a.click(),clearTimeout(t)}),150)},datePickerRef:i,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}}),(0,U.jsx)(N.Z,{minWidth:"150px",fullWidth:!0,label:"Date To",onChange:function(e){o({type:"UPDATE_FIELD",field:"dateTo",value:e}),a.dateTo=e,o({type:"UPDATE_FIELD",field:"title",value:K(a,null===t||void 0===t?void 0:t.department)})},value:new Date(a.dateTo),onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,a;null===(e=r.current)||void 0===e||null===(a=e.querySelector("button"))||void 0===a||a.click(),clearTimeout(t)}),150)},datePickerRef:r,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}})]}),"Daily"===a.report&&(0,U.jsx)(N.Z,{minWidth:"150px",fullWidth:!0,label:"Date",onChange:function(e){o({type:"UPDATE_FIELD",field:"dateFrom",value:e}),a.dateFrom=e,o({type:"UPDATE_FIELD",field:"title",value:K(a,null===t||void 0===t?void 0:t.department)})},value:new Date(a.dateFrom),onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,a;null===(e=i.current)||void 0===e||null===(a=e.querySelector("button"))||void 0===a||a.click(),clearTimeout(t)}),150)},datePickerRef:i,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}}),(0,U.jsxs)(L._,{dateAdapter:z.H,children:["Monthly"===a.report&&(0,U.jsx)(T.M,{sx:{width:"100%",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Date",views:["month","year"],value:a.dateFrom,onChange:function(e){o({type:"UPDATE_FIELD",field:"dateFrom",value:e}),a.dateFrom=e,o({type:"UPDATE_FIELD",field:"title",value:K(a,null===t||void 0===t?void 0:t.department)})}}),"Yearly"===a.report&&(0,U.jsxs)(d.Fragment,{children:[(0,U.jsx)(T.M,{sx:{width:"100%",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",inputRef:i,InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Date",views:["year"],value:a.dateFrom,onChange:function(e){o({type:"UPDATE_FIELD",field:"dateFrom",value:e}),a.dateFrom=e,o({type:"UPDATE_FIELD",field:"title",value:K(a,null===t||void 0===t?void 0:t.department)})}}),(0,U.jsx)(_.Z,{type:"number",label:"Year Count",name:"yearCount",value:a.yearCount,onChange:function(e){n(e),a.yearCount=e.target.value,o({type:"UPDATE_FIELD",field:"title",value:K(a,null===t||void 0===t?void 0:t.department)})},InputProps:{style:{height:"27px",fontSize:"12px"}},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]})]})]})}function H(e){var t,a,o=e.state,u=e.dispatch,c=(0,d.useContext)(W.V),s=c.myAxios,h=c.user,p=(0,M.useQuery)({queryKey:"account",queryFn:function(){return(t=t||(0,l.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/reports/reports/report-fields/accounts",{headers:{Authorization:"Bearer ".concat(null===h||void 0===h?void 0:h.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),m=p.data,x=p.isLoading,y=(0,M.useQuery)({queryKey:"policy",queryFn:function(){return(a=a||(0,l.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/reports/reports/report-fields/policy",{headers:{Authorization:"Bearer ".concat(null===h||void 0===h?void 0:h.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),f=y.data,g=y.isLoading,v=function(e){var t=e.target,a=t.name,o=t.value;"policy"===a&&"TPL"!==o&&u({type:"UPDATE_FIELD",field:"mortgagee",value:""}),"mortgagee"===a&&""!==o&&u({type:"UPDATE_FIELD",field:"account",value:""}),u({type:"UPDATE_FIELD",field:a,value:o})};return(0,U.jsxs)("div",{style:{padding:"10px"},children:[(0,U.jsx)(_.Z,{label:"Title",fullWidth:!0,name:"title",value:o.title,onChange:v,rows:6,multiline:!0,InputProps:{style:{height:"140px",fontSize:"12px"}},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsxs)(F.Z,{sx:function(e){return{height:"100%",display:"flex",gap:"10px",margin:"10px 0",flexDirection:"column"}},children:[(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"paper-format-1",children:"Format"}),(0,U.jsxs)(E.Z,{labelId:"paper-format-1",value:o.format1,label:"Format",name:"format1",onChange:function(e){v(e),o.format1=e.target.value,u({type:"UPDATE_FIELD",field:"title",value:K(o,null===h||void 0===h?void 0:h.department)})},sx:{height:"27px",fontSize:"14px"},children:[(0,U.jsx)(A.Z,{value:"Full",children:"Full"}),(0,U.jsx)(A.Z,{value:"Summary",children:"Summary"})]})]}),""===o.mortgagee&&(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"paper-format-2",children:"Format"}),(0,U.jsxs)(E.Z,{id:"paper-format-2",label:"Format",value:o.format2,name:"format2",onChange:function(e){v(e),o.format2=e.target.value,u({type:"UPDATE_FIELD",field:"title",value:K(o,null===h||void 0===h?void 0:h.department)})},sx:{height:"27px",fontSize:"14px"},children:[(0,U.jsx)(A.Z,{value:"All",children:"All"}),(0,U.jsx)(A.Z,{value:"Financed",children:"Financed"})]})]}),(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"report",children:"Report"}),(0,U.jsxs)(E.Z,{id:"report",label:"Report",value:o.report,name:"report",onChange:function(e){v(e),o.report=e.target.value,u({type:"UPDATE_FIELD",field:"title",value:K(o,null===h||void 0===h?void 0:h.department)})},sx:{height:"27px",fontSize:"14px"},children:[(0,U.jsx)(A.Z,{value:"Daily",children:"Daily"}),(0,U.jsx)(A.Z,{value:"Monthly",children:"Monthly"}),""===o.mortgagee&&(0,U.jsx)(A.Z,{value:"Yearly",children:"Yearly"}),(0,U.jsx)(A.Z,{value:"Custom",children:"Custom"})]})]}),g?(0,U.jsx)(V.Z,{loading:g}):(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"policy",children:"Type"}),(0,U.jsx)(E.Z,{id:"policy",label:"Type",value:o.policy,name:"policy",onChange:function(e){v(e),o.policy=e.target.value,u({type:"UPDATE_FIELD",field:"title",value:K(o,null===h||void 0===h?void 0:h.department)})},sx:{height:"27px",fontSize:"14px"},children:null===f||void 0===f?void 0:f.data.policy.map((function(e,t){return(0,U.jsx)(A.Z,{value:e.Bonds,children:e.Bonds},t)}))})]}),(0,U.jsx)(Y,{dispatch:u,state:o,handleInputChange:v,user:h}),""===o.mortgagee&&(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"policyType",children:"Policy Type"}),(0,U.jsxs)(E.Z,{id:"policyType",label:"Policy Type",value:o.policyType,name:"policyType",onChange:v,sx:{height:"27px",fontSize:"14px"},children:[(0,U.jsx)(A.Z,{value:"Regular",children:"Regular"}),(0,U.jsx)(A.Z,{value:"Temporary",children:"Temporary"})]})]}),"TPL"===o.policy&&(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"Mortgagee",children:"Mortgagee"}),(0,U.jsxs)(E.Z,{id:"Mortgagee",label:"Mortgagee",value:o.mortgagee,name:"mortgagee",onChange:v,sx:{height:"27px",fontSize:"14px"},children:[(0,U.jsx)(A.Z,{value:""}),(0,U.jsx)(A.Z,{value:"AMIFIN",children:"AMIFIN"}),(0,U.jsx)(A.Z,{value:"N I L - HN",children:"N I L - HN"}),(0,U.jsx)(A.Z,{value:"N I L - ASTRA",children:"N I L - ASTRA"})]})]})]}),(0,U.jsx)(F.Z,{sx:{height:"100%",flex:1,alignItems:"center",padding:"20px 10px",border:"1px solid #94a3b8"},children:(0,U.jsxs)(F.Z,{sx:function(e){return(0,i.Z)({width:"100%",display:"flex",flexDirection:"row",columnGap:"10px",alignItems:"center"},e.breakpoints.down("sm"),{flexDirection:"column",rowGap:"10px"})},children:[(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"sort",children:"Sort"}),(0,U.jsxs)(E.Z,{labelId:"sort",value:o.sort,label:"Sort",name:"sort",onChange:v,sx:{height:"27px",fontSize:"14px"},children:[(0,U.jsx)(A.Z,{value:"Date Issued",children:"Date Issued"}),(0,U.jsx)(A.Z,{value:"Policy No#",children:"Policy No#"}),(0,U.jsx)(A.Z,{value:"Date From",children:"Date From"})]})]}),x?(0,U.jsx)(V.Z,{loading:x}):(0,U.jsxs)(j.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,U.jsx)(Z.Z,{id:"account",children:"Account"}),(0,U.jsx)(E.Z,{id:"account",label:"Account",value:o.account,name:"account",onChange:function(e){v(e),o.account=e.target.value,u({type:"UPDATE_FIELD",field:"title",value:K(o,null===h||void 0===h?void 0:h.department)})},sx:{height:"27px",fontSize:"14px"},children:[{Account:""===o.mortgagee?"All":""}].concat((0,n.Z)(null===m||void 0===m?void 0:m.data.accounts)).map((function(e,t){return(0,U.jsx)(A.Z,{value:e.Account,children:e.Account},t)}))})]})]})})]})}var q={format1:"Summary",format2:"All",dateFrom:new Date,dateTo:new Date,policyType:"Regular",policy:"COM",sort:"Policy No#",account:"All",report:"Monthly",yearCount:"1",mortgagee:"",title:""};function O(){var e,t=(0,d.useContext)(W.V),a=t.myAxios,n=t.user;q.title=K(q,null===n||void 0===n?void 0:n.department);var i=(0,d.useState)(P(q.policy,q.format1)),c=(0,o.Z)(i,2),s=c[0],h=c[1];return(0,U.jsx)(u.ZP,{column:s,initialState:q,Setting:function(e,t){return(0,U.jsx)(H,{state:e,dispatch:t})},onReportSubmit:function(t,o,i){return(e=e||(0,l.Z)((0,r.Z)().mark((function e(t,o,i){var l,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=P(i.policy,i.format1),console.log(l),(0,R.flushSync)((function(){h(l)})),e.next=5,a.post("/reports/reports/get-production-report",i,{headers:{Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.accessToken)}});case 5:return d=e.sent,e.next=8,d.data;case 8:c=e.sent,(0,G.bq)({data:c.report,column:l,beforeArrangeData:function(e){var t=l.filter((function(e){return"number"===e.type})).map((function(e){return e.datakey}));return t.forEach((function(t){var a;e.hasOwnProperty(t)&&(e[t]=(0,u.pw)(parseFloat(null===(a=e[t])||void 0===a?void 0:a.toString().replace(/,/g,""))))})),e},adjustMaxHeight:320}).then((function(e){t(e),o(!1)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},drawTable:function(e,t){return e.map((function(a,o){return(0,U.jsxs)("div",{className:"page out-page",children:[(0,U.jsx)("div",{className:"header",style:{height:"50px"}}),(0,U.jsx)("div",{className:"content",children:(0,U.jsxs)("table",{children:[(0,U.jsxs)("thead",{children:[t.title.split("\n").map((function(e,t){return(0,U.jsx)("tr",{children:(0,U.jsx)("td",{style:{fontSize:"14px",fontWeight:"bold",textAlign:"left"},colSpan:s.length,children:e})},t)})),(0,U.jsx)("tr",{style:{height:"40px"}}),(0,U.jsx)("tr",{style:{borderBottom:"1px solid black"},children:s.map((function(t,a){return(0,U.jsx)("th",{onDoubleClick:function(a){return(0,u.PE)(a,t.datakey,e)},style:{width:t.width,fontSize:"12px",fontWeight:"bold",textAlign:B.includes(t.datakey)?"left":"center"},children:t.header},a)}))})]}),(0,U.jsx)("tbody",{children:a.map((function(e,t){return(0,U.jsx)("tr",{children:s.map((function(a,n){return(0,U.jsx)("td",{onClick:u.mp,className:"page-".concat(o," row-").concat(t,"_col-").concat(n),style:{width:a.width,fontSize:"AssuredName"===a.datakey?"10px":"11px",fontWeight:"500",textAlign:"number"===a.type?"right":"left"},children:e[a.datakey]},n)}))},t)}))}),(0,U.jsxs)("tfoot",{children:[o===e.length-1&&(0,U.jsxs)("tr",{children:[(0,U.jsxs)("td",{style:{fontWeight:"bold",fontSize:"11px"},colSpan:3,children:["No. of Records:"," ",(e.flat().length-1).toLocaleString("en-US")]}),s.map((function(t,a){if(!t.total)return a<3?(0,U.jsx)(d.Fragment,{},a):(0,U.jsx)("td",{},a);var o=e.flat().reduce((function(e,a){var o;return e+parseFloat(null===(o=a[t.datakey])||void 0===o?void 0:o.replace(/,/g,""))}),0);return(0,U.jsx)("td",{style:{borderTop:"1px solid black",fontWeight:"bold",textAlign:"right",fontSize:"11px"},children:isNaN(o)?"0":(0,u.pw)(o)},a)}))]}),(0,U.jsx)("tr",{style:{height:"50px"}}),(0,U.jsx)("tr",{children:(0,U.jsx)("td",{colSpan:s.length,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"center"},children:"Prepared: ________________________________ \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 Checked: ________________________________ \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Approved: ________________________________"})})]})]})}),(0,U.jsxs)("div",{className:"footer",style:{height:"50px",display:"flex",justifyContent:"space-between"},children:[(0,U.jsx)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:"01/01/2024"}),(0,U.jsxs)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:["Page ",o+1," of ",e.length]})]})]},o)}))}})}function K(e,t){return"".concat("UMIS"===t?"UPWARD MANAGEMENT INSURANCE SERVICES":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC."," ").concat("All"!==e.format2?"(Financed)":"","\n").concat("Custom"===e.report?"":"".concat(e.report," "),"Production Report(").concat(e.policy," - ").concat(e.account,") ").concat("Summary"===e.format1?"Summary":"","\nCut off Date: ").concat(function(e){var t="";if("Daily"===e.report)t=e.dateFrom.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});else if("Monthly"===e.report)t=e.dateFrom.toLocaleDateString("en-US",{year:"numeric",month:"long"});else if("Yearly"===e.report){var a=function(e,t){var a=new Date(e,0,1),o=new Date(e+t,11,31),n=a.getFullYear(),i=o.getFullYear();return i<n?{startYearFormatted:i,endYearFormatted:n}:{startYearFormatted:n,endYearFormatted:i}}(new Date(e.dateFrom).getFullYear(),parseInt(e.yearCount)),o=a.startYearFormatted,n=a.endYearFormatted;t="".concat(o,"-").concat(n)}else{var i=e.dateFrom.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),r=e.dateTo.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});t="".concat(i," to ").concat(r)}return t}(e))}},39709:function(e,t,a){a.d(t,{Z:function(){return w}});var o=a(4942),n=a(63366),i=a(87462),r=a(72791),l=a(14036),d=a(67384),u=a(94419),c=a(66934),s=a(31402),h=a(36151),p=a(13239),m=a(21217);function x(e){return(0,m.Z)("MuiLoadingButton",e)}var y=(0,a(75878).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),f=a(80184),g=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],v=(0,c.ZP)(h.Z,{shouldForwardProp:function(e){return function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e}(e)||"classes"===e},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(e,t){return[t.root,t.startIconLoadingStart&&(0,o.Z)({},"& .".concat(y.startIconLoadingStart),t.startIconLoadingStart),t.endIconLoadingEnd&&(0,o.Z)({},"& .".concat(y.endIconLoadingEnd),t.endIconLoadingEnd)]}})((function(e){var t=e.ownerState,a=e.theme;return(0,i.Z)((0,o.Z)({},"& .".concat(y.startIconLoadingStart,", & .").concat(y.endIconLoadingEnd),{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0}),"center"===t.loadingPosition&&(0,o.Z)({transition:a.transitions.create(["background-color","box-shadow","border-color"],{duration:a.transitions.duration.short})},"&.".concat(y.loading),{color:"transparent"}),"start"===t.loadingPosition&&t.fullWidth&&(0,o.Z)({},"& .".concat(y.startIconLoadingStart,", & .").concat(y.endIconLoadingEnd),{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===t.loadingPosition&&t.fullWidth&&(0,o.Z)({},"& .".concat(y.startIconLoadingStart,", & .").concat(y.endIconLoadingEnd),{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0,marginLeft:-8}))})),b=(0,c.ZP)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(e,t){var a=e.ownerState;return[t.loadingIndicator,t["loadingIndicator".concat((0,l.Z)(a.loadingPosition))]]}})((function(e){var t=e.theme,a=e.ownerState;return(0,i.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===a.loadingPosition&&("outlined"===a.variant||"contained"===a.variant)&&{left:"small"===a.size?10:14},"start"===a.loadingPosition&&"text"===a.variant&&{left:6},"center"===a.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},"end"===a.loadingPosition&&("outlined"===a.variant||"contained"===a.variant)&&{right:"small"===a.size?10:14},"end"===a.loadingPosition&&"text"===a.variant&&{right:6},"start"===a.loadingPosition&&a.fullWidth&&{position:"relative",left:-10},"end"===a.loadingPosition&&a.fullWidth&&{position:"relative",right:-10})})),w=r.forwardRef((function(e,t){var a=(0,s.Z)({props:e,name:"MuiLoadingButton"}),o=a.children,r=a.disabled,c=void 0!==r&&r,h=a.id,m=a.loading,y=void 0!==m&&m,w=a.loadingIndicator,k=a.loadingPosition,C=void 0===k?"center":k,D=a.variant,S=void 0===D?"text":D,I=(0,n.Z)(a,g),P=(0,d.Z)(h),W=null!=w?w:(0,f.jsx)(p.Z,{"aria-labelledby":P,color:"inherit",size:16}),L=(0,i.Z)({},a,{disabled:c,loading:y,loadingIndicator:W,loadingPosition:C,variant:S}),T=function(e){var t=e.loading,a=e.loadingPosition,o=e.classes,n={root:["root",t&&"loading"],startIcon:[t&&"startIconLoading".concat((0,l.Z)(a))],endIcon:[t&&"endIconLoading".concat((0,l.Z)(a))],loadingIndicator:["loadingIndicator",t&&"loadingIndicator".concat((0,l.Z)(a))]},r=(0,u.Z)(n,x,o);return(0,i.Z)({},o,r)}(L),_=y?(0,f.jsx)(b,{className:T.loadingIndicator,ownerState:L,children:W}):null;return(0,f.jsxs)(v,(0,i.Z)({disabled:c||y,id:P,ref:t},I,{variant:S,classes:T,ownerState:L,children:["end"===L.loadingPosition?o:_,"end"===L.loadingPosition?_:o]}))}))},45987:function(e,t,a){a.d(t,{Z:function(){return n}});var o=a(63366);function n(e,t){if(null==e)return{};var a,n,i=(0,o.Z)(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}}}]);
//# sourceMappingURL=7664.69e94215.chunk.js.map