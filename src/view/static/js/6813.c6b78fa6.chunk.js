"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[6813],{66813:function(e,n,s){s.r(n),s.d(n,{default:function(){return o}});var d=s(74165),i=s(15861),r=s(72791),t=s(91933),c=s(24035),l=s(3380),a=s(80184);function o(){var e,n,s,o,u,h=(0,r.useContext)(l.V).user,x=(0,t.useQuery)({queryKey:"renewal-by-month",queryFn:function(){return(e=e||(0,i.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.G.get("/get-renewal-this-month",{headers:{Authorization:"Bearer ".concat(null===h||void 0===h?void 0:h.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),j=x.data,v=x.isLoading,m=(0,t.useQuery)({queryKey:"claims-notice",queryFn:function(){return(n=n||(0,i.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.G.get("/get-claims-notice",{headers:{Authorization:"Bearer ".concat(null===h||void 0===h?void 0:h.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),p=m.data,N=m.isLoading;return(0,a.jsxs)("div",{id:"main",children:[(0,a.jsx)("button",{onClick:function(){c.G.post("/get-user-details",{department:null===h||void 0===h?void 0:h.department,userAccess:null===h||void 0===h?void 0:h.userAccess,is_admin:null===h||void 0===h?void 0:h.is_master_admin}).then((function(e){console.log(e),window.location.href="myreport://run"}))},children:"Run Report"}),("PRODUCTION"===(null===h||void 0===h?void 0:h.userAccess)||"ACCOUNTING"===(null===h||void 0===h?void 0:h.userAccess)||"PRODUCTION_ACCOUNTING"===(null===h||void 0===h?void 0:h.userAccess)||"ADMIN"===(null===h||void 0===h?void 0:h.userAccess))&&(0,a.jsxs)("div",{className:"section-content",children:[(0,a.jsx)("h1",{className:"first",children:"RENEWAL"}),(0,a.jsx)("div",{id:"content",children:v?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)("table",{id:"table",children:(0,a.jsxs)("tbody",{children:[(null===j||void 0===j||null===(s=j.data.renewal)||void 0===s?void 0:s.length)<=0&&(0,a.jsxs)("tr",{className:"header first",children:[(0,a.jsx)("td",{children:"Name"}),(0,a.jsx)("td",{children:"POLICY NO"}),(0,a.jsx)("td",{children:"SUM INSURED"}),(0,a.jsx)("td",{children:"DATE TO"}),(0,a.jsx)("td",{children:"CHASSIS"}),(0,a.jsx)("td",{children:"UNIT"})]}),null===j||void 0===j||null===(o=j.data.renewal)||void 0===o?void 0:o.map((function(e,n){return(0,a.jsx)(r.Fragment,{children:e.isHeader?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("tr",{className:"heading first",children:(0,a.jsx)("td",{colSpan:6,children:e.header})}),(0,a.jsxs)("tr",{className:"header first",children:[(0,a.jsx)("td",{colSpan:"1"===e.isVPolicy?1:2,children:"Name"}),(0,a.jsx)("td",{colSpan:"1"===e.isVPolicy?1:2,children:"POLICY NO"}),(0,a.jsx)("td",{children:"SUM INSURED"}),(0,a.jsx)("td",{children:"DATE TO"}),"1"===e.isVPolicy&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{children:"CHASSIS"}),(0,a.jsx)("td",{children:"UNIT"})]})]})]}):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{colSpan:"1"===e.isVPolicy?1:2,children:e.AssuredName}),(0,a.jsx)("td",{colSpan:"1"===e.isVPolicy?1:2,children:e.PolicyNo}),(0,a.jsx)("td",{children:e.InsuredValue}),(0,a.jsx)("td",{children:e.DateExpired}),"1"===e.isVPolicy&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{children:e.ChassisNo}),(0,a.jsx)("td",{children:e.unit})]})]})},n)}))]})})})]}),("CLAIMS"===(null===h||void 0===h?void 0:h.userAccess)||"ADMIN"===(null===h||void 0===h?void 0:h.userAccess))&&(0,a.jsxs)("div",{className:"section-content",children:[(0,a.jsx)("h1",{className:"second",children:"CLAIMS"}),(0,a.jsx)("div",{id:"content",children:N?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)("table",{id:"table",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:"header second",children:[(0,a.jsx)("td",{children:"Claims ID."}),(0,a.jsx)("td",{children:"Name"}),(0,a.jsx)("td",{children:"Policy No."}),(0,a.jsx)("td",{children:"Date Accident"}),(0,a.jsx)("td",{children:"Date Reported"}),(0,a.jsx)("td",{children:"Claim Type"}),(0,a.jsx)("td",{children:"Status"})]}),null===p||void 0===p||null===(u=p.data.claims)||void 0===u?void 0:u.map((function(e,n){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.claims_id}),(0,a.jsx)("td",{children:e.AssuredName}),(0,a.jsx)("td",{children:e.PolicyNo}),(0,a.jsx)("td",{children:e.dateAccident}),(0,a.jsx)("td",{children:e.dateReported}),(0,a.jsx)("td",{children:e.claim_type}),(0,a.jsx)("td",{children:e.status})]},n)}))]})})})]})]})}}}]);
//# sourceMappingURL=6813.c6b78fa6.chunk.js.map