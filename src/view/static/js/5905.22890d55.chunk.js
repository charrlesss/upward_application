"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[5905],{23508:function(e,t,a){a.d(t,{bq:function(){return l}});var n,i=a(74165),r=a(15861);function o(e){var t=e.data,a=e.column,n=e.beforeArrangeData,i=e.adjustMaxHeight,r=e.fontSize,o=void 0===r?"11px":r,l=e.summaryHeight,d=void 0===l?0:l,s=[],u=0,c=[],h=document.querySelector(".content").getBoundingClientRect().height-i;return t.forEach((function(e,i){e=n(e);var r=document.querySelector(".content"),l=document.createElement("table"),p=l.insertRow();e.summaryReport&&h-u<=d+20&&(u+=h-u),a.forEach((function(t){var a=p.insertCell();l.style.visibility="hidden",l.style.width="100%",l.style.fontSize=o,function(e,t,a,n,i){e.style.width=a,e.textContent=t,n.appendChild(i)}(a,e[t.datakey],t.width,r,l)})),u+=p.getBoundingClientRect().height,r.removeChild(l),c.push(e),(u>=h||i===t.length-1&&u<h)&&(s.push(c),u=0,c=[])})),s}var l=function(e){return(n=n||(0,r.Z)((0,i.Z)().mark((function e(t){var a,n,r,l,d,s,u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data,n=t.column,r=t.beforeArrangeData,l=t.adjustMaxHeight,d=t.cb,s=t.fontSize,u=void 0===s?"11px":s,c=t.summaryHeight,void 0!==a){e.next=3;break}return e.abrupt("return",[]);case 3:if(!d){e.next=5;break}return e.abrupt("return",d({data:a,column:n,beforeArrangeData:r,adjustMaxHeight:l}));case 5:return e.abrupt("return",o({data:a,column:n,beforeArrangeData:r,adjustMaxHeight:l,fontSize:u,summaryHeight:c}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},78588:function(e,t,a){a.r(t),a.d(t,{default:function(){return D},reducer:function(){return S}});var n=a(74165),i=a(15861),r=a(4942),o=a(1413),l=a(72791),d=a(48550),s=a(64554),u=a(68096),c=a(94925),h=a(58406),p=a(23786),x=a(3380),f=a(93862),m=a(71652),y=a(93777),g=a(71012),b=a(23508),v=a(16386),j=a(80184),k={format:"All Accounts",dateFormat:"Monthly",sub_acct:"All",date:new Date,policyType:"Regular",title:""},S=function(e,t){return"UPDATE_FIELD"===t.type?(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},t.field,t.value)):e},w=[{datakey:"Row_Num",header:"NO.",width:"40px"},{datakey:"IDNo",header:"Client ID",width:"100px"},{datakey:"Shortname",header:"Client Name",width:"200px"},{datakey:"PolicyNo",header:"Policy No",width:"100px"},{datakey:"UnitInssured",header:"Unit\nInssured",width:"160px"},{datakey:"_DateIssued",header:"DATE\nISSUED",width:"80px"},{datakey:"_EstimatedValue",header:"SUM\nINSURED",width:"100px"},{datakey:"_TotalDue",header:"GROSS\nPRIUM",width:"100px"},{datakey:"_TotalPaid",header:"PAYMENT\nMADE",width:"100px"},{datakey:"_AgentCom",header:"COMM.",width:"80px"},{datakey:"_Discount",header:"DISC",width:"80px"},{datakey:"_Balance",header:"COLLECTIBLE",width:"100px"},{datakey:"due_days",header:"DAYS\nDUE",width:"80px"},{datakey:"Remarks",header:"Remarks",width:"200px"}];function A(e,t){return"".concat("UMIS"===t?"UPWARD MANAGEMENT INSURANCE SERVICES":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.","\n").concat(e.dateFormat," Aging of Accounts\n").concat(function(e){var t=(0,v.Z)(new Date(e.date),"MMMM dd, yyyy");return t}(e))}function M(e){var t=e.state,a=e.dispatch,n=(0,l.useContext)(x.V).user,i=function(e){var t=e.target,n=t.name,i=t.value;a({type:"UPDATE_FIELD",field:n,value:i})};return(0,j.jsxs)("div",{style:{padding:"50px 20px"},children:[(0,j.jsx)(d.Z,{label:"Title",fullWidth:!0,name:"title",value:t.title,onChange:i,rows:6,multiline:!0,InputProps:{style:{height:"140px",fontSize:"12px"}},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,j.jsxs)(s.Z,{sx:function(e){return(0,r.Z)({height:"100%",display:"grid",gridTemplateColumns:"repeat(1,1fr)",gap:"10px",margin:"10px 0"},e.breakpoints.down("sm"),{gridTemplateColumns:"repeat(1,1fr)"})},children:[(0,j.jsxs)(u.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,j.jsx)(c.Z,{id:"date_format",children:"Format"}),(0,j.jsx)(h.Z,{labelId:"date_format",value:t.format,label:"Format",name:"format",onChange:i,sx:{height:"27px",fontSize:"14px"},children:(0,j.jsx)(p.Z,{value:"All Accounts",children:"All Accounts"})})]}),(0,j.jsxs)(u.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,j.jsx)(c.Z,{id:"date_format",children:"Report"}),(0,j.jsx)(h.Z,{labelId:"date_format",value:t.dateFormat,label:"Report",name:"dateFormat",onChange:i,sx:{height:"27px",fontSize:"14px"},children:(0,j.jsx)(p.Z,{value:"Monthly",children:"Monthly"})})]}),(0,j.jsxs)(u.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,j.jsx)(c.Z,{id:"sub_account_id",children:"Sub Account"}),(0,j.jsx)(h.Z,{labelId:"sub_account_id",value:t.sub_acct,label:"Sub Account",name:"sub_acct",onChange:i,sx:{height:"27px",fontSize:"14px"},children:(0,j.jsx)(p.Z,{value:"All",children:"All"})})]}),"Monthly"===t.dateFormat&&(0,j.jsx)(m._,{dateAdapter:f.H,children:(0,j.jsx)(y.M,{sx:{width:"100%",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Date",views:["month","year"],value:t.date,onChange:function(e){a({type:"UPDATE_FIELD",field:"date",value:e}),t.date=e,a({type:"UPDATE_FIELD",field:"title",value:A(t,null===n||void 0===n?void 0:n.department)})}})}),(0,j.jsxs)(u.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,j.jsx)(c.Z,{id:"policyType",children:"Policy Type"}),(0,j.jsxs)(h.Z,{labelId:"policyType",value:t.policyType,label:"Policy Type",name:"policyType",onChange:i,sx:{height:"27px",fontSize:"14px"},children:[(0,j.jsx)(p.Z,{value:"Regular",children:"Regular"}),(0,j.jsx)(p.Z,{value:"Temporary",children:"Temporary"})]})]})]})]})}function D(){var e,t=(0,l.useContext)(x.V),a=t.user,r=t.myAxios;return k.title=A(k,null===a||void 0===a?void 0:a.department),(0,j.jsx)(g.ZP,{column:w,initialState:k,Setting:function(e,t){return(0,j.jsx)(M,{state:e,dispatch:t})},onReportSubmit:function(t,o,l){return(e=e||(0,i.Z)((0,n.Z)().mark((function e(t,i,o){var l,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.post("/reports/accounting/aging-accounts",o,{headers:{Authorization:"Bearer ".concat(null===a||void 0===a?void 0:a.accessToken)}});case 2:return l=e.sent,e.next=5,l.data;case 5:d=e.sent,console.log(d),(0,b.bq)({data:d.report,column:w,beforeArrangeData:function(e){return e},adjustMaxHeight:200}).then((function(e){t(e),i(!1)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},scaleDefaultValue:80,drawTable:function(e,t){return e.map((function(a,n){return(0,j.jsxs)("div",{className:"page out-page",children:[(0,j.jsx)("div",{className:"header",style:{height:"50px"}}),(0,j.jsx)("div",{className:"content",children:(0,j.jsxs)("table",{children:[(0,j.jsxs)("thead",{children:[t.title.split("\n").map((function(e,t){return(0,j.jsx)("tr",{children:(0,j.jsx)("th",{style:{fontSize:"14px",fontWeight:"bold",textAlign:"left"},colSpan:w.length,children:e})},t)})),(0,j.jsx)("tr",{style:{height:"40px"}}),(0,j.jsx)("tr",{children:w.map((function(t,a){return(0,j.jsx)("th",{onDoubleClick:function(a){return(0,g.PE)(a,t.datakey,e)},style:{width:t.width,fontSize:"10.5px",fontWeight:"bold",textAlign:"left"},children:t.header},a)}))})]}),(0,j.jsx)("tbody",{children:a.map((function(e,t){return e.isTotal?(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)("tr",{style:{height:"10px"}}),(0,j.jsx)("tr",{children:w.map((function(t,a){return(0,j.jsx)("td",{style:{textAlign:"right",fontWeight:"bold",fontSize:"11px"},children:e[t.datakey]},a)}))})]},t):(0,j.jsx)("tr",{children:w.map((function(a,i){return(0,j.jsx)("td",{onClick:g.mp,className:"editable not-looking page-".concat(n,"  row-").concat(t,"_col-").concat(i),style:{fontSize:"11px",fontWeight:e.total?"bold":"500",width:"".concat(a.width," !important"),textAlign:"_EstimatedValue"===a.datakey||"_TotalDue"===a.datakey||"_TotalPaid"===a.datakey||"_Balance"===a.datakey||"_Discount"===a.datakey||"_AgentCom"===a.datakey||"due_days"===a.datakey?"right":"left",padding:e.total?"5px":"0 5px"},children:e[a.datakey]},i)}))},t)}))})]})}),(0,j.jsxs)("div",{className:"footer",style:{height:"50px",display:"flex",justifyContent:"space-between"},children:[(0,j.jsx)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:(0,v.Z)(new Date,"dd/MM/yyyy")}),(0,j.jsxs)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:["Page ",n+1," of ",e.length]})]})]},n)}))},pageHeight:"8.5in",pageWidth:"14in"})}}}]);
//# sourceMappingURL=5905.22890d55.chunk.js.map