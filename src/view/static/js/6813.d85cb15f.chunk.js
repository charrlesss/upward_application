"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[6813],{66813:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var i=n(37762),r=n(74165),a=n(15861),l=n(29439),o=n(72791),d=n(24035),c=n(3380),s=n(763),p=n.n(s),h=n(80184);function u(t){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}var g=(0,o.forwardRef)((function(t,e){var n=t.data;n=function(t){return t.map((function(t){return t.PrevBalance=parseFloat(t.PrevBalance.toString().replace(/,/g,"")),t.CurrCredit=parseFloat(t.CurrCredit.toString().replace(/,/g,"")),t.CurrDebit=parseFloat(t.CurrDebit.toString().replace(/,/g,"")),t.TotalBalance=parseFloat(t.TotalBalance.toString().replace(/,/g,"")),t}))}(n);var i=p().groupBy(n,"H");function r(t,e){return t.reduce((function(t,n){return t+n[e]}),0)}return(0,h.jsx)("div",{ref:e,children:Object.keys(i).map((function(t){var e=p().groupBy(i[t],"HT1"),n=Object.values(e).flat();return(0,h.jsxs)("div",{className:"H",children:[(0,h.jsx)("p",{style:{margin:0,padding:"10px",color:"black"},className:"p",children:t}),Object.keys(e).map((function(t){var n=p().groupBy(e[t],"HT2"),i=Object.values(n).flat();return(0,h.jsxs)("div",{style:{marginLeft:"20px"},className:"HT1",children:[(0,h.jsx)("p",{style:{margin:0,padding:"10px",color:"black"},className:"p",children:t}),Object.keys(n).map((function(t){return(0,h.jsxs)("div",{style:{marginLeft:"40px"},className:"HT2",children:[(0,h.jsx)("p",{style:{margin:0,padding:"10px",color:"black"},className:"p",children:t}),n[t].map((function(t,e){return(0,h.jsxs)("div",{style:{marginLeft:"60px",display:"flex"},className:"p",children:[(0,h.jsx)("div",{style:{width:"400px"},children:t.HT3}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right"},children:u(t.PrevBalance)}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right"},children:u(t.CurrDebit)}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right"},children:u(t.CurrCredit)}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right"},children:u(t.TotalBalance)})]},e)})),(0,h.jsxs)("div",{style:{marginLeft:"60px",display:"flex"},className:"p",children:[(0,h.jsx)("div",{style:{width:"400px",textAlign:"left"}}),(0,h.jsx)("div",{style:{width:"150px",borderTop:"1px solid #94a3b8",textAlign:"right",fontWeight:"bold"},children:u(r(n[t],"PrevBalance"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderTop:"1px solid #94a3b8"},children:u(r(n[t],"CurrDebit"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderTop:"1px solid #94a3b8"},children:u(r(n[t],"CurrCredit"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderTop:"1px solid #94a3b8"},children:u(r(n[t],"TotalBalance"))})]})]},t)})),(0,h.jsxs)("div",{style:{marginLeft:"20px",display:"flex",padding:"10px 0px"},className:"p",children:[(0,h.jsx)("div",{style:{width:"480px",textAlign:"left"},children:(0,h.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:["TOTAL ",t]})}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"1px solid black"},children:u(r(i,"PrevBalance"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"1px solid black"},children:u(r(i,"CurrDebit"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"1px solid black"},children:u(r(i,"CurrCredit"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"1px solid black"},children:u(r(i,"TotalBalance"))})]})]},t)})),(0,h.jsxs)("div",{style:{display:"flex",padding:"10px 0px"},className:"p",children:[(0,h.jsx)("div",{style:{width:"520px",textAlign:"left"},children:(0,h.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:["TOTAL"," ","ASSETS"!==t?t+"AND CAPITAL":t]})}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"double black 5px"},children:u(r(n,"PrevBalance"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"double black 5px"},children:u(r(n,"CurrDebit"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"double black 5px"},children:u(r(n,"CurrCredit"))}),(0,h.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"bold",borderBottom:"double black 5px"},children:u(r(n,"TotalBalance"))})]})]},t)}))})}));function x(t){var e=t;console.log(e.getBoundingClientRect());var n=(new XMLSerializer).serializeToString(e),i=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width,a="0 0 ".concat(r," ").concat(i);return"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg"  width="'.concat(100,'%" height="').concat(100,'%">\n          <foreignObject viewBox="').concat(a,'" width="100%" height="100%">\n              ').concat(n,"\n          </foreignObject>\n          <style>\n              .page{\n                  page-break-after: always;\n                  display: flex;\n                  flex-direction: column;\n                  height: 100vh;\n                  width: 100vw;\n              }\n              img{\n                  width: 100%;\n                  height: 100%;\n              }\n          </style> \n        </svg>"))}function m(){var t,e,n,s=(0,o.useRef)(null),p=(0,o.useContext)(c.V).user,u=(0,o.useState)([]),m=(0,l.Z)(u,2),v=m[0],f=m[1],b=function(t){return(e=e||(0,a.Z)((0,r.Z)().mark((function t(e){var n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x(e),i='<img src="'+n+'" />',t.abrupt("return",'<div class="page">'.concat(i,"</div>"));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)};function y(){return(n=n||(0,a.Z)((0,r.Z)().mark((function t(){var e,n,a,l,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="",n=document.querySelectorAll("#cut-pages .page"),a=(0,i.Z)(n),t.prev=3,a.s();case 5:if((l=a.n()).done){t.next=14;break}return(o=l.value).style.fontSize="8px !important",t.t0=e,t.next=11,b(o);case 11:e=t.t0+=t.sent;case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(3),a.e(t.t1);case 19:return t.prev=19,a.f(),t.finish(19);case 22:return t.abrupt("return",e);case 23:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))).apply(this,arguments)}return(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:function(){return(t=t||(0,a.Z)((0,r.Z)().mark((function t(){var e,n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={dateFormat:"Monthly",format:0,date:"2024-09-05T05:56:21.669Z",sub_acct:"All",nominalAccount:0},t.next=3,d.G.post("/reports/accounting//balance-sheet-long-report",e,{headers:{Authorization:"Bearer ".concat(null===p||void 0===p?void 0:p.accessToken)}});case 3:return n=t.sent,t.next=6,n.data;case 6:i=t.sent,f(i.data);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)},children:"Report"}),(0,h.jsx)("button",{onClick:(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y().then((function(t){var e,n=document.createElement("iframe");n.style.display="none",document.body.appendChild(n);var i=n.contentDocument||(null===(e=n.contentWindow)||void 0===e?void 0:e.document),r='\n                          <!DOCTYPE html>\n                          <html lang="en">\n                          <head>\n                              <meta charset="UTF-8">\n                              <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                              <title>Printed HTML Content</title>\n                              <style>\n                              @import url(\'https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap\');\n                              @media print {\n                                @page{\n                                    margin-top: 0mm;\n                                    margin-bottom: 0mm;\n                                    margin-left: 0mm;\n                                    margin-right: 0mm;\n                                }\n                                body {\n                                      margin: 0;\n                                      padding: 0;\n                                  }\n                                .page{\n                                    page-break-after: always;\n                                    height: 100vh;\n                                    width: 100vw;\n                                }\n                               \n                                 img{\n                                    width: 95%;\n                                    height: 100%;\n                                }\n                               \n                              }\n          \n                              </style>\n                          </head>\n                          <body>\n                                '.concat(t,"\n                          </body>\n                          </html>\n                      ");null===i||void 0===i||i.open(),null===i||void 0===i||i.write(r),null===i||void 0===i||i.close(),setTimeout((function(){var t,e;null===(t=n.contentWindow)||void 0===t||t.print(),null===(e=n.parentNode)||void 0===e||e.removeChild(n)}),1e3)}));case 2:case"end":return t.stop()}}),t)}))),children:"Report Element"}),(0,h.jsx)("button",{onClick:function(){var t;!function(t){var e=t[0],n=t[t.length-1],i=0,r=[];t.forEach((function(e,n){var a=Math.round(e.getBoundingClientRect().height);(i+=a)+a>900&&(i=0,r.push(e),r.push(t[n+1]),console.log("============ ".concat(n," - ").concat(i," ================"),e))})),r.unshift(e),r.push(n);var a=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push({start:t[n],end:t[n+1]});return e}(r),l=document.getElementById("cut-pages"),o=document.createElement("div");o.className="main",a.forEach((function(t){var e=document.createElement("div");e.className="page",e.style.height="11in",e.style.width="auto",e.style.fontSize="8px !important",e.style.padding="15px";var n=document.createRange();n.setStartBefore(t.start),n.setEndAfter(t.end);var i=n.cloneContents();n.deleteContents(),e.appendChild(i),o.appendChild(e)})),null===l||void 0===l||l.appendChild(o)}(null===(t=s.current)||void 0===t?void 0:t.querySelectorAll(".p"))},children:"Logic"}),(0,h.jsx)(g,{data:v,ref:s}),(0,h.jsx)("div",{id:"cut-pages"})]})}}}]);
//# sourceMappingURL=6813.d85cb15f.chunk.js.map